<!DOCTYPE html>
<html lang="en" ng-app="infonx">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="lib/bower_components/bootstrap/dist/css/bootstrap.min.css">
</head>
<body ng-controller="direController">
    <girl name="范冰冰" clever beautiful>
        <famous></famous>
    </girl>
    <girl name="doujun" clever beautiful>
    </girl>
</body>
<script src="lib/bower_components/angular/angular.js"></script>
<script>
    angular.module('infonx', []);
    angular.module('infonx').controller('direController',function(){

    });

    angular.module('infonx').directive('girl', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            scope: {
                name: '@'
            },
            template: '<div>{{name}} is {{characters}}.<div ng-transclude></div></div>',
            controller: function ($scope) {    //此处为注入服务，必须使用$开头
                $scope.characters = [];
                this.add = function (character) {
                    $scope.characters.push(character);
                };
            }
        }
    });

    angular.module('infonx').directive('clever', function () {
        return {
            require: "^girl",    //依赖于某个指令
            link: function (scope, element, attrs, girlCtrl) {
                girlCtrl.add('clever');
            }
        }
    });

    angular.module('infonx').directive('beautiful', function () {
        return {
            require: "girl",    //依赖于某个指令
            link: function (scope, element, attrs, girlCtrl) {

                girlCtrl.add('beautiful');
            }
        }
    });

    angular.module('infonx').directive('famous', function () {
        return {
            require: "^girl",    //依赖于某个指令
            link: function (scope, element, attrs, girlCtrl) {
                girlCtrl.add('famous');
            }
        }
    })
</script>
</html>